CREATE DATABASE IF NOT EXISTS advertising;

USE advertising;

CREATE TABLE IF NOT EXISTS Advertiser
(
    ID     INT         NOT NULL AUTO_INCREMENT,
    NAME   VARCHAR(30) NOT NULL,
    CLICKS INT DEFAULT 0,
    VIEWS  INT DEFAULT 0,
    PRIMARY KEY (ID)
);

INSERT INTO Advertiser (NAME)
VALUES ('Masoud');
INSERT INTO Advertiser (NAME)
VALUES ('Huuman');

CREATE TABLE IF NOT EXISTS Ad
(
    ID            INT         NOT NULL AUTO_INCREMENT,
    TITLE         VARCHAR(30) NOT NULL,
    ADVERTISER_ID INT         NOT NULL,
    IMG_URL       VARCHAR(300),
    LINK          VARCHAR(300),
    CLICKS        INT DEFAULT 0,
    VIEWS         INT DEFAULT 0,
    PRIMARY KEY (ID),
    FOREIGN KEY (ADVERTISER_ID) REFERENCES Advertiser(ID)
);

INSERT INTO Ad (TITLE, IMG_URL, LINK, ADVERTISER_ID)
VALUES ('TITLE_1', 'IMAGE_1', 'LINK_1', (SELECT ID FROM Advertiser WHERE NAME = 'Masoud'));

INSERT INTO Ad (TITLE, IMG_URL, LINK, ADVERTISER_ID)
VALUES ('TITLE_2', 'IMAGE_2', 'LINK_2', (SELECT ID FROM Advertiser WHERE NAME = 'Huuman'));